# ==========================================
# 目标平台设置 (以 x86/64 软路由为例)
# 如果是硬路由(如红米AX6000)，请修改这部分
# ==========================================
CONFIG_TARGET_x86=y
CONFIG_TARGET_x86_64=y
CONFIG_TARGET_x86_64_Generic=y
CONFIG_TARGET_KERNEL_PARTSIZE=256
CONFIG_TARGET_ROOTFS_PARTSIZE=1024

# ==========================================
# 基础编译环境与库 (解决截图中的依赖报错)
# ==========================================
# 强制选中一些基础库，防止编译 passwall 时缺少依赖
CONFIG_PACKAGE_curl=y
CONFIG_PACKAGE_libcurl=y
CONFIG_PACKAGE_wget=y
CONFIG_PACKAGE_ca-bundle=y
CONFIG_PACKAGE_ip-full=y
CONFIG_PACKAGE_unzip=y
CONFIG_PACKAGE_coreutils=y
CONFIG_PACKAGE_coreutils-base64=y

# ==========================================
# 1. 科学上网: Passwall
# ==========================================
CONFIG_PACKAGE_luci-app-passwall=y
# 包含 Passwall 核心依赖 (通常会自动选中，但显式写出更保险)
CONFIG_PACKAGE_ipt2socks=y
CONFIG_PACKAGE_chinadns-ng=y
CONFIG_PACKAGE_pdnsd-alt=y
# 配置 Passwall 支持的协议 (根据需要开启)
CONFIG_PACKAGE_xray-core=y
CONFIG_PACKAGE_v2ray-core=y
CONFIG_PACKAGE_sing-box=y

# ==========================================
# 2. DNS 服务: SmartDNS
# ==========================================
CONFIG_PACKAGE_luci-app-smartdns=y
CONFIG_PACKAGE_smartdns=y

# ==========================================
# 3. 动态 DNS (DDNS)
# ==========================================
CONFIG_PACKAGE_luci-app-ddns=y
CONFIG_PACKAGE_ddns-scripts=y
CONFIG_PACKAGE_ddns-scripts-services=y
# 包含阿里云、腾讯云等国内服务商支持
CONFIG_PACKAGE_ddns-scripts-aliyun=y
CONFIG_PACKAGE_ddns-scripts-dnspod=y

# ==========================================
# 4. 带宽监控: nlbwmon
# ==========================================
CONFIG_PACKAGE_luci-app-nlbwmon=y

# ==========================================
# 5. KMS 服务器 (Windows/Office 激活)
# ==========================================
CONFIG_PACKAGE_luci-app-vlmcsd=y
CONFIG_PACKAGE_vlmcsd=y

# ==========================================
# 6. USB 打印服务器
# ==========================================
# USB 基础支持
CONFIG_PACKAGE_kmod-usb-core=y
CONFIG_PACKAGE_kmod-usb2=y
CONFIG_PACKAGE_kmod-usb3=y
# 打印机内核模块
CONFIG_PACKAGE_kmod-usb-printer=y
# 打印服务器应用 (p910nd 是最轻量的)
CONFIG_PACKAGE_luci-app-usb-printer=y
CONFIG_PACKAGE_p910nd=y

# ==========================================
# 7. 网络共享 (Samba4)
# ==========================================
CONFIG_PACKAGE_luci-app-samba4=y
CONFIG_PACKAGE_samba4-server=y
CONFIG_PACKAGE_autosamba=y
# 建议开启自动挂载工具
CONFIG_PACKAGE_luci-app-hd-idle=y
CONFIG_PACKAGE_automount=y

# ==========================================
# 8. IPSec VPN 服务器
# ==========================================
CONFIG_PACKAGE_luci-app-ipsec-vpnd=y
CONFIG_PACKAGE_strongswan=y
CONFIG_PACKAGE_strongswan-default=y
CONFIG_PACKAGE_kmod-tun=y

# ==========================================
# 9. 常用管理工具 (推荐顺带加上)
# ==========================================
CONFIG_PACKAGE_luci-app-ttyd=y
CONFIG_PACKAGE_luci-app-diskman=y
# 如果是 Docker 需求，取消下面注释
# CONFIG_PACKAGE_luci-app-dockerman=y
